<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Period Tracker - My Health Vault</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preload" href="css/main.css" as="style">
    <link rel="stylesheet" href="css/main.css">
    <script src="https://unpkg.com/lucide-react@0.395.0/dist/umd/lucide.min.js" defer></script>
    <style>
        body { background: var(--bg-gray-50); }
        .container { max-width: 1200px; margin: 0 auto; padding: 0 1.5rem; }
        .grid { display: grid; gap: 1.5rem; }
        .grid-cols-1 { grid-template-columns: repeat(1, 1fr); }
        .md\:grid-cols-2 { grid-template-columns: repeat(2, 1fr); }
        .md\:grid-cols-3 { grid-template-columns: repeat(3, 1fr); }
        .flex { display: flex; }
        .items-center { align-items: center; }
        .justify-between { justify-content: space-between; }
        .gap-4 { gap: 1rem; }
        .gap-6 { gap: 1.5rem; }
        .mb-4 { margin-bottom: 1rem; }
        .mb-6 { margin-bottom: 1.5rem; }
        .p-4 { padding: 1rem; }
        .p-6 { padding: 1.5rem; }
        .text-2xl { font-size: 1.5rem; font-weight: 700; }
        .text-xl { font-size: 1.25rem; font-weight: 700; }
        .text-sm { font-size: 0.875rem; }
        .space-y-3 > * + * { margin-top: 0.75rem; }
        .space-y-4 > * + * { margin-top: 1rem; }
        .hidden { display: none; }
        .w-full { width: 100%; }
        .flex-1 { flex: 1; }
        .inline { display: inline; }
        .mr-2 { margin-right: 0.5rem; }
        .flex-wrap { flex-wrap: wrap; }
        @media (min-width: 768px) {
            .md\:grid-cols-2 { grid-template-columns: repeat(2, 1fr); }
            .md\:grid-cols-3 { grid-template-columns: repeat(3, 1fr); }
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="flex items-center gap-4">
                <button onclick="navigateTo('homepage.html')" class="btn-secondary">‚Üê Home</button>
                <div class="nav-logo">Period Tracker</div>
            </div>
        </div>
    </nav>

    <div class="container" style="padding-top: 2rem; padding-bottom: 2rem;">
        <!-- Current Status -->
        <div class="card mb-6">
            <div class="card-header">
                <h2 class="card-title">Current Cycle Status</h2>
            </div>
            <div class="card-body">
                <div id="current-status" class="grid grid-cols-1 md:grid-cols-3 gap-4">
                    <!-- Status will be loaded here -->
                </div>
            </div>
        </div>

        <!-- Quick Actions -->
        <div class="card mb-6">
            <div class="card-header">
                <h2 class="card-title">Quick Actions</h2>
            </div>
            <div class="card-body">
                <div class="flex flex-wrap gap-4">
                    <button onclick="logPeriodStart()" class="btn-primary">
                        <i data-lucide="circle" class="w-4 h-4 inline mr-2"></i>
                        Log Period Start
                    </button>
                    <button onclick="logPeriodEnd()" class="btn-secondary">
                        <i data-lucide="check-circle" class="w-4 h-4 inline mr-2"></i>
                        Log Period End
                    </button>
                    <button onclick="logSymptoms()" class="btn-secondary">
                        <i data-lucide="heart" class="w-4 h-4 inline mr-2"></i>
                        Log Symptoms
                    </button>
                </div>
            </div>
        </div>

        <!-- Predictions -->
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
            <div class="card">
                <div class="card-header">
                    <h3 class="card-title">Next Period Prediction</h3>
                </div>
                <div class="card-body">
                    <div id="next-period" class="space-y-3">
                        <!-- Prediction will be loaded here -->
                    </div>
                </div>
            </div>

            <div class="card">
                <div class="card-header">
                    <h3 class="card-title">Ovulation Prediction</h3>
                </div>
                <div class="card-body">
                    <div id="ovulation" class="space-y-3">
                        <!-- Ovulation info will be loaded here -->
                    </div>
                </div>
            </div>
        </div>

        <!-- Cycle Statistics -->
        <div class="card mb-6">
            <div class="card-header">
                <h2 class="card-title">Cycle Statistics</h2>
            </div>
            <div class="card-body">
                <div id="cycle-stats" class="grid grid-cols-1 md:grid-cols-3 gap-4">
                    <!-- Statistics will be loaded here -->
                </div>
            </div>
        </div>

        <!-- Period History -->
        <div class="card">
            <div class="card-header">
                <h2 class="card-title">Period History</h2>
            </div>
            <div class="card-body">
                <div id="period-history" class="space-y-3">
                    <!-- History will be loaded here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Period Start Modal -->
    <div id="period-start-modal" class="hidden" style="position: fixed; inset: 0; background: rgba(0,0,0,0.5); display: none; align-items: center; justify-content: center; z-index: 1000;">
        <div class="card" style="max-width: 420px; width: 90%; margin: 1rem;">
            <div class="card-header">
                <h3 class="card-title">Log Period Start</h3>
            </div>
            <div class="card-body">
                <form id="period-start-form" class="space-y-4">
                    <div>
                        <label class="form-label">Start Date</label>
                        <input type="date" id="period-start-date" class="form-input w-full" required>
                    </div>
                    <div class="flex gap-4">
                        <button type="submit" class="btn-primary flex-1">Save</button>
                        <button type="button" onclick="closePeriodStartModal()" class="btn-secondary">Cancel</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Symptoms Modal -->
    <div id="symptoms-modal" class="hidden" style="position: fixed; inset: 0; background: rgba(0,0,0,0.5); display: none; align-items: center; justify-content: center; z-index: 1000;">
        <div class="card" style="max-width: 420px; width: 90%; margin: 1rem;">
            <div class="card-header">
                <h3 class="card-title">Log Symptoms</h3>
            </div>
            <div class="card-body">
                <form id="symptoms-form" class="space-y-4">
                    <div>
                        <label class="form-label">Date</label>
                        <input type="date" id="symptom-date" class="form-input w-full" required>
                    </div>
                    <div>
                        <label class="form-label">Symptoms</label>
                        <div class="space-y-2">
                            <label class="flex items-center"><input type="checkbox" value="cramps" class="mr-2"> Cramps</label>
                            <label class="flex items-center"><input type="checkbox" value="bloating" class="mr-2"> Bloating</label>
                            <label class="flex items-center"><input type="checkbox" value="mood_swings" class="mr-2"> Mood Swings</label>
                            <label class="flex items-center"><input type="checkbox" value="headache" class="mr-2"> Headache</label>
                            <label class="flex items-center"><input type="checkbox" value="fatigue" class="mr-2"> Fatigue</label>
                            <label class="flex items-center"><input type="checkbox" value="backache" class="mr-2"> Backache</label>
                        </div>
                    </div>
                    <div>
                        <label class="form-label">Severity</label>
                        <select id="symptom-severity" class="form-input w-full">
                            <option value="low">Low</option>
                            <option value="medium" selected>Medium</option>
                            <option value="high">High</option>
                        </select>
                    </div>
                    <div class="flex gap-4">
                        <button type="submit" class="btn-primary flex-1">Save</button>
                        <button type="button" onclick="closeSymptomsModal()" class="btn-secondary">Cancel</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <script type="module" src="js/period-tracker-page.js"></script>
    <script>
        function navigateTo(path) {
            window.location.href = path;
        }
    </script>
</body>
</html>
